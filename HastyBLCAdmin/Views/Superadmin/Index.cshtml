@model SuperadminViewModel
@section styles {
    <link rel="stylesheet" href="~/css/genres.css" />
    <link rel="stylesheet" href="~/css/HastyBLCStyle.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

}
@{
    ViewData["Title"] = "Index";
}

<html>
    <body>
    @await Html.PartialAsync("_EditRole", new Services.ServiceModels.AspNetRoleViewModel())
    @await Html.PartialAsync("_EditUser", new Services.ServiceModels.UserViewModel())

    <h1>Index</h1>
    
    <h1>Roles</h1>
    <a asp-controller="Superadmin" asp-action="CreateRole">Create Role</a>
    <ul>
        @foreach (var role in @Model.Roles!)
        {
            @if (role.Name != "Superadmin")
            {
                <li>
                    <span>@role.Name</span>
                    <button class="btn btn-outline-danger editRoleBtn" data-role-id="@role.Id" data-role-name="@role.Name">
                        <i class="fas fa-edit"></i>
                    </button>
                    <form method="post" action="/Superadmin/DeleteRole" class="d-inline-block">
                        <input type="hidden" name="roleId" value="@role.Id" />
                        <button type="submit" class="btn btn-outline-danger" onclick="return confirm('Are you sure you want to delete this role?');">Delete</button>
                    </form>
                </li>
            }
        }
    </ul>

    <h1>Users</h1>
    <a asp-controller="Superadmin" asp-action="Register">Create User</a>
    <ul>
        @foreach (var user in @Model.Users!)
        {
            @if (user.UserName != "superadmin")
            {
                <li>
                    <span>@user.UserName</span>
                    <span>@user.Email</span>
                    <button class="btn btn-outline-danger editUserBtn" data-user-id="@user.Id" data-user-email="@user.Email" data-user-name="@user.UserName">
                        <i class="fas fa-edit"></i>
                    </button>
                    @* <form method="post" action="/Superadmin/DeleteRole" class="d-inline-block">
                    <input type="hidden" name="roleId" value="@role.Id" />
                    <button type="submit" class="btn btn-outline-danger" onclick="return confirm('Are you sure you want to delete this role?');">Delete</button>
                    </form> *@
                </li>
            }
            
        }
    </ul>

    <form method="post" asp-controller="Account" asp-action="SignOutUser" id="logoutForm">
        <button type="submit" class="btn btn-outline-danger"><i class="fas fa-sign-out-alt"></i>Logout</button>
    </form>
    </body>
</html>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="~/js/superadmin.js"></script>