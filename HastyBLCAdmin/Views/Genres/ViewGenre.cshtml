@model Genre
@section styles {
    <link rel="stylesheet" href="~/css/HastyBLCStyle.css" />
    <link rel="stylesheet" href="~/css/viewgenre.css" />
}
@{
    ViewData["Title"] = "Genres";
}
<html>
<body>
    <div class="genre-container">
        <div class="genre-header">
            <a href="#" onclick="goBack()" class="back-button">←</a>
            <h1 class="genre-title">@Model.Name</h1>
        </div>

        <div class="books-grid">
            @if (Model.BookGenres == null || Model.BookGenres.Count == 0)
            {
                <p>There are no books in this genre</p>
            }
            else
            {
                @foreach (var bookGenre in Model.BookGenres)
                {
                    <div class="book-item">
                        <a asp-action="ViewBook" asp-route-id="@bookGenre.Book!.BookId">
                            <img src="~/@Html.Raw(bookGenre.Book!.Image)" alt="@bookGenre.Book!.Title" class="book-cover-img" />
                        </a>
                        
                        <button formmethod="get" formaction="@Url.Action("ViewBook", new { bookId = bookGenre.Book!.BookId })" class="btn book-btn">@bookGenre.Book!.Title</button>
                    </div>
                }
            }
        </div>
    </div>

    <script>
        function goBack() {
            window.history.back();
            return false;
        }
    </script>
</body>
</html>
